<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Rtl433-monitor</title>
    <link rel="stylesheet" href="css/base.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/15.2.0/react.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/15.2.0/react-dom.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.6.16/browser.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.2/jquery.min.js"></script>
    <script src="/socket.io/socket.io.js"></script>
  </head>
  <body>
    <div id="content"></div>
    <script type="text/babel">

var SensorReading = React.createClass({
  getInitialState: function() {
    return {
      Temperature: 'unknown',
      power0: 'unknown',
    };
  },

  componentDidMount: function() {
    var self = this;
    this.socket = io();
    this.socket.on('sensor_event', function (event) {
    console.log('got sensor_event', event)
      self.setState(event);
    });
  },

  componentWillUnmount: function() {
    //nothing
  },

  render: function() {
    return (
      <div className="sensorReading">
        I am a SensorReading<br/>
        Temperature: {this.state.Temperature}<br/>
        power0: {this.state.power0}<br/>
      </div>
    );
  }
});

ReactDOM.render(
  <SensorReading />,
  document.getElementById('content')
);

    </script>
  </body>
</html>